### 颠倒字符串

```js
const reverseString = str => str.split('').reverse().join()
```

### 检查空数组

```js
const arrNotEmpty = arr => Array.isArray(arr) && arr.length > 0
```

### 获取URL参数

```js
const getQueryParams = URL => JSON.parse(`{"${ decodeURI(URL.split('?')[1]).replace(/&/g, '","').replace(/=/g,'":"') }"}`)

//自带方法 详见笔记
new URLSearchParams(myURL.search) 
```

### 是否是周末

```js
const isWeekend = date => [0, 6].includes(date.getDay())
```

### 间隔天数

```js
const daysDiff = (date1, date2) => Math.ceil(Math.abs(date1 - date2) / 86400000)
```

### 首字母大写

* 单词

  ```js
  const cap = str => str.charAt(0).toUppercase() + str.slice(1)
  ```

* 英文名

  ```js
  const firstUpperCase = fullName => {
      let [first, ...rest] = fullName
      return first.toUpperCase() + rest.join('')
  }
  //or
  const firstUpperCase = fullName => fullName.split(' ').map( word => word[0].toUpperCase() + word.slice(1)).join(' ')
  ```

### 给定范围内生成随机数字

```js
const random = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min
```

### 随机排序数组

```js
const shuffleArray = arr => arr.sort(() => 0.5 - Math.random())
```

### 平均值

```js
const getAverage = (...nums) => nums.reduce((a, b) => a + b) / nums.length
```

### 动态添加class

* 判断是否有这个class

  ```js
  const hasClass = (el, className) =>  new RegExp('(^|\\s)'+ className +'(\\s|$)').test(el.className)
  ```

* 添加class

  ```js
  const addClass = (el, className) => {
      if (hasClass(el, className)) return;
      return el.className.split(' ').push('className').join(' ')
  }
  ```

### 判断是否又符合项

```js
const hasSome = arr => arr.some( item => item > 5 )
```

### 数组去空

```js
const removeUndefined = arr => arr.filter( item => item || typeof item === "number" )

const arr = ['1',' ',undefined,'',20,0,undefined,'end']
removeUndefined(arr) //['1',' ',20,0,'end']
```

### 数组去重

* 去重 or 获取数组重复2次或以上的元素

  ```js
  const getRepeatNums = arr => {
      let Arr = [];
      let repArr = [];
      for (let i = 0; i < arr.length; i++){
          if (Arr.indexOf(arr[i]) === -1){
              Arr.push(arr[i])
          } else {
              if (repArr.indexOf(arr[i]) === -1){
                  repArr.push(arr[i])
              }
          }
      }
      return repArr //获取数组重复2次或以上的元素
      return Arr //获取去重后的数组
  }
  ```

* 使用Set

  ```js
  const newArr = Array.from（new Set([...arr])）
  ```

* 使用Map

  ```js
  const uniq = arr => {
      const map = new Map()
      for (let i=0; i < arr.length; i++){
          if (a[i] === undefined) continue
          if (map.has(a[i])) continue
          map.set(a[i], true)
      }
      return [...map.keys()]
  }
  ```

* 使用Object同Map，缺点：只支持字符串，因Object的key只有string和symbol

### 合并数组

```js 
const mergeArray = (a, b) => a.concat(b)
const mergeArray = (a, b) => [...a, ..b]
Array.prototype.push.apply(arr1, arr2) //apply方法合并数组

//合并去重
const mergeRemoveDulication = (a, b) => [...new Set(mergeArray(a, b))]
```

### 重复输出

```js
const repeatStar = num =>  "*".repeat(num || 8)
star(3) //***
```



### 递归拼接树形结构

```js
//目标树形菜单结构
const rootList = [
    { id:1,  parent:null, text:'菜单1' },
    { id:11, parent:1,    text:'菜单1-1' },
    { id:12, parent:1,    text:'菜单1-2' },
    { id:2,  parent:null, text:'菜单2' },
    { id:21, parent:2,    text:'菜单2-1' }
]

const getTreeList = (rootList, id, list) => {
    for (let item of rootList){
        if (item.parent == id) list.push(item)
    }
    for (let i of list){
        i.children = []
        getTreeList(rootList, i.id, i.children)   
        if(i.children.length === 0) delete i.children
    }
    return list
}

const res = getTreeList(rootList, null, [])
/** 结果
 [
 	{
 		id: 1,
		parent: null,
		text: "菜单1",
		children: [
			{
				id: 11
				parent: 1
				text: "菜单1-1"
			},
			{
				id: 12
				parent: 1
				text: "菜单1-2"
			}
		]
 	},
 	{
 		id: 2,
		parent: null,
		text: "菜单2",
		children: [
			{
				id: 21
                parent: 2
                text: "菜单2-1"
			}
		]
 	}
 ]
 */
```



