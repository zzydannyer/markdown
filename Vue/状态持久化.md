## **状态持久化**
```js
import Vue from 'vue'
import Vuex from 'vuex'

Vue.use(Vuex)

const store = new Vuex.Store({
    state: {
        status: false
    },
    mutations: {
        markStatus(state){
            state.status= true
            /* 设置storage */
            window.localStorage.status = JSON.stringify(true}
        },
        setStatus(state, status){
            state.status = status
        }
    },
    actions: {
        loadStatus({commit}){
            const status = JSON.parse(window.localStorage.status);
            commit('setStatus', status)
        }
    }
})
```
```jsx
<template>
    <h1> {{ $store.state.status}}</h1>
    <button @click="onClick" />
</template>

mounted(){
    this.$store.dispatch('loadStatus')
},
methods:{
    onClick(){
        this.$store.commit('markStatus')
    }
}
```

