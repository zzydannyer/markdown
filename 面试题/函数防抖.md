### **例：搜索**
~~~js
input.addEventListener("keyup", (function(e){ //这是一个自运行函数
    let t = null;
    return function(){ //真正的事件函数在这里
        clearTimeout(t); //每次触发，都把前面的定时器关闭，尽管第一次定时器并不存在
        t = setTimeout(function(){ //开启新的定时器
            //ajax(...); 发送请求到服务器
        }, 300);
    }
})())
~~~

### **例2**
<<<<<<< HEAD
```js

      <input type="text" />

      function debounce(fn, time) {
        return function () {
          // 定义timeout存储时间
          let timeout;
          // 如果操作继续那就清除时间
          clearTimeout(timeout);
          // 设置定时函数，当停止操作一段时间后，调用函数
          timeout = setTimeout(() => {
            // 调用的函数
            fn();
          }, time);
        };
      }

      function sayHi() {
        console.log("防抖成功");
      }
      // 绑定标签
      var input = document.querySelector("input");
      // 调用防抖
      input.addEventListener("input", debounce(sayHi, 500));

=======
```

      <input type="text" />
    
      function debounce(fn, time) {
        return function () {
          // 定义timeout存储时间
          let timeout;
          // 如果操作继续那就清除时间
          clearTimeout(timeout);
          // 设置定时函数，当停止操作一段时间后，调用函数
          timeout = setTimeout(() => {
            // 调用的函数
            fn();
          }, time);
        };
      }
    
      function sayHi() {
        console.log("防抖成功");
      }
      // 绑定标签
      var input = document.querySelector("input");
      // 调用防抖
      input.addEventListener("input", debounce(sayHi, 500));

>>>>>>> c38a18ae1c1d2ff4d33831d99dff05b2d05e0364


```